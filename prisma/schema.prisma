generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Permission {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime? @map("deleted_at")
  Role      Role?     @relation(fields: [roleId], references: [id])
  roleId    String?   @db.ObjectId
}

model Role {
  id         String       @id @default(auto()) @map("_id") @db.ObjectId
  name       String
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @updatedAt
  deletedAt  DateTime?    @map("deleted_at")
  Permission Permission[]
  Member     Member[]
}

model Member {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  username    String
  password    String
  img         String
  firstname   String
  lastname    String
  facebook    String
  line        String
  instagram   String
  addressOne  String
  addressTwo  String
  subDistrict String
  district    String
  city        String
  postalCode  String
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  deletedAt   DateTime? @map("deleted_at")
  Position    Position? @relation(fields: [positionId], references: [id])
  positionId  String?   @db.ObjectId
  Role        Role?     @relation(fields: [roleId], references: [id])
  roleId      String?   @db.ObjectId
}

model Position {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId
  team      String
  position  String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime? @map("deleted_at")
  member    Member[]
}
