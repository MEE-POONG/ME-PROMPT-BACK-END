generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Permission {
  id        String    @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime? @map("deleted_at")
  Role      Role?     @relation(fields: [roleId], references: [id])
  roleId    String?   @db.ObjectId
}

model Role {
  id         String       @id @default(auto()) @map("_id") @db.ObjectId
  name       String
  createdAt  DateTime     @default(now())
  updatedAt  DateTime     @updatedAt
  deletedAt  DateTime?    @map("deleted_at")
  Permission Permission[]
  Position   Position[]
}

model Customer {
  id            String    @id @default(auto()) @map("_id") @db.ObjectId
  Position      Position? @relation(fields: [positionId], references: [id])
  username      String
  password      String
  img           String
  firstname     String
  lastname      String
  facebook      String
  line          String
  instagram     String
  addressOne    String
  addressTwo    String
  subDistrict   String
  district      String
  city          String
  postalCode    String
  statusManager String
  createdAt     DateTime  @default(now())
  updatedAt     DateTime  @updatedAt
  deletedAt     DateTime? @map("deleted_at")
  positionId    String?   @db.ObjectId
}

model Position {
  id        String     @id @default(auto()) @map("_id") @db.ObjectId
  team      String
  position  String
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  deletedAt DateTime?  @map("deleted_at")
  customer  Customer[]
  Role      Role?      @relation(fields: [roleId], references: [id])
  roleId    String?    @db.ObjectId
}
